<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>callback 함수</title>
</head>
<body>

<script>
	// ex1
	function a() {
		window.addEventListener('load', function(event) {
			console.log('콜백함수 결과: ', event.target);
		});
	}

	function b() {
		return console.log('b함수이다');
	}
	// for문이 1순위 
	for ( var i = 0; i<10; i++ ) {
		console.log(i);
	}

	a(); // 콜백함수는 무조건 마지막 
	b(); // a()함수에 콜백함수가 있기 때문에 b()함수가 먼저 실행된다. 


	// ex2
	function ajaxFunc() {
		var oReq = new XMLHttpRequest();

		console.log('1');
		// addEventListener의 3가지 매개변수 : 이벤트, 함수, 기본 false = 버블링. true = 캡쳐링 
		oReq.addEventListener("load", function(event) {
			console.log('5');
			console.log(this.responseText);
		});

		console.log('2');
			oReq.open("GET", "data/example.txt");
		console.log('3');
			oReq.send(); 
		console.log('4');
		return true;
	}

	ajaxFunc();

	// 출력순서 : 1,2,3,4, 저 위의 a()콜백함수결과, 5, responseTest

</script>

</body>
</html>